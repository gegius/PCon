# Оверлей для игр “PCon”


## Описание:

Система просмотра видео во время работы с десктопными приложениями, рассчитанная в первую очередь на аудиторию геймеров, с целью предоставления возможности потребления контента параллельно.

## Примеры пользователей:

1. Игрок в таймкиллер игры, который хочет чувствовать себя комфортнее, из-за эффекта присутствия, включает видео своего любимого блогера или видеогайд по своей любимой игре

2. Программист, который параллельно с тем, что пишет код, смотрит Индийско-Английский гайд о том, как работает определенная технология

3. Студент гуманитарного ВУЗа, который смотрит своего любимого стримера параллельно с написанием диплома в Word’е.


### Взаимодействие с программой:

После запуска программы пользователю требуется обновить соответствующей кнопкой список программ, запущенных на его компьютере, и выбрать те, к которым нужно цеплять оверлей, перенеся их тем самым в список захватываемых программ, после чего нажать кнопку запуска оверлея.
	Запустив приложение и открыл захватываемую программу, пользователю требуется запустить оверлей настроек сочетанием клавиш “ctrl + tab”, после чего выбрать нужный ему хостинг в левом углу экрана, и определиться с тем, будет ли он что-то искать или воспользоваться вкладкой Трендов соответствующего хостинга
	Когда оверлей настроек выдаст ему полученные результаты, пользователь может ознакомиться с описанием каждого или лишь с заголовком в названии кнопки соответствующего результата.
	После того как пользователь определится с выбором, он может нажать кнопку старт, тем самым закрыв оверлей настроек и открыл основной оверлей с проигрывающимся медиа пользователя. С ним он по возможности может взаимодействовать посредством кнопок: старт, пауза, громкость, перемотка. 



## Точки расширения: 
1. Добавление новых видеохостингов и новых методов поиска с помощью интерфейса IHosting
2. Добавление функционала/особых настроек плеера (размер, возможность перемотки, возможность ускорения) с помощью реализации интерфейса IPlayerSettings

### Диаграмма:

![y8metfcikPg](https://user-images.githubusercontent.com/55377473/122906838-017f9800-d36c-11eb-83d3-de9735fc9cb8.jpg)

Основной функционал и точка расширения предоставляется интерфейсом IHosting, обязывающий свои реализации использовать реализации интерфейса IPlayerSettings, реализовывать метод получения Uri по ссылке на видео соответствующего хостинга, поиск,  а также получение трендов хостинга. В проекте все хостинги реализуют свой функционал благодаря соответствующим API. Хостинги находятся в слое Service, в котором также находится ProcessChecker, отлавливающий текущие процессы.

В слое Domain находится интерфейс IPlayerSettings и его реализации, которые использует IHosting для передачи параметров настройки плеера. Класс WindowsSnapper позволяет подцеплять окно к другому окну, тем самым реализуя технологию Overlay. Класс HotKeys обеспечивает работу с горячими клавишами. Класс MediaObject позволяет унифицировать данные, полученные от API разных хостингов. Класс Monitor позволяет показывать текущее выбранное окно.



## DI контейнер:
 Создается в классе App.cs, в методе OnStartup, задается начальная конфигурация в методе ConfigureServices. Пробрасывается через OverlaySettings.cs и Overlay.cs, где и используется.
 
## Слои программы:

### Domain

### Services

### View
